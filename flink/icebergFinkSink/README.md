**This demo will use a java-faker library to generate Streaming Lord of the Rings data using Flink’s native support
for rich functions, and then sink the stream data into an Iceberg table on HDInsight on AKS running Flink cluster.**

You can also use a single shared catalog, both HDInsight on AKS running Flink cluster and Spark on Azure Databricks can 
operate on the same Iceberg warehouse.

## Requirements <br>
Azure HDInsight Flink 1.16 on AKS

![image](https://github.com/Baiys1234/hdinsight-aks/assets/35547706/ee1c0745-f6b9-42d6-b244-ce48cb02a6c4)

## Prepare Iceberg Database and Table on Flink SQL:

Please referr below HDInsight on AKS public doc to create iceberg database and table

#Ref
Table API and SQL - Use Iceberg Catalog type with Hive in Apache Flink® on HDInsight on AKS - Azure HDInsight on AKS | Microsoft Learn
![image](https://github.com/Baiys1234/hdinsight-aks/assets/35547706/bc42e208-fff2-43bc-b055-86b905f339e4)

In this demo, connect to the SSH from Azure portal: <br>

![image](https://github.com/Baiys1234/hdinsight-aks/assets/35547706/5b7041dc-59b1-4e12-bf4c-b6919ed6ca04)

#Ref
https://learn.microsoft.com/en-us/azure/hdinsight-aks/flink/flink-web-ssh-on-portal-to-flink-sql

Connecting to Flink SQL Client: <br>
```
user@sshnode-0 [ ~ ]$ bin/sql-client.sh 

                                   ????????
                               ????????????????
                            ???????        ???????  ?
                          ????   ?????????      ?????
                          ???         ???????    ?????
                            ???            ???   ?????
                              ??       ???????????????
                            ?? ?   ???       ?????? ?????
                            ?????   ????      ????? ?????
                         ???????       ???    ??????? ???
                   ????????? ??         ??    ??????????
                  ????????  ??           ?   ?? ???????
                ????  ???            ?  ?? ???????? ?????
               ???? ? ??          ? ?? ????????    ????  ??
              ???? ????          ??????????       ??? ?? ????
           ???? ?? ???       ???????????         ????  ? ?  ???
           ???  ?? ??? ?????????              ????           ???
           ??    ? ???????              ????????          ??? ??
           ???    ???    ????????????????????            ????  ?
          ????? ???   ??????   ????????                  ????  ??
          ????????  ???????????????                            ??
          ?? ????   ???????  ???       ??????    ??          ???
          ??? ???  ???  ???????            ????   ?????????????
           ??? ?????  ????  ??                ??      ????   ???
           ??   ???   ?     ??                ??              ??
            ??   ??         ??                 ??        ????????
             ?? ?????       ??                  ???????????    ??
              ??   ????      ?                    ???????      ??
               ???   ?????                         ?? ???????????
                ????    ????                     ??????? ????????
                  ?????                          ??  ????  ?????
                      ?????????????????????????????????  ?????
          
    ______ _ _       _       _____  ____  _         _____ _ _            _  BETA   
   |  ____| (_)     | |     / ____|/ __ \| |       / ____| (_)          | |  
   | |__  | |_ _ __ | | __ | (___ | |  | | |      | |    | |_  ___ _ __ | |_ 
   |  __| | | | '_ \| |/ /  \___ \| |  | | |      | |    | | |/ _ \ '_ \| __|
   | |    | | | | | |   <   ____) | |__| | |____  | |____| | |  __/ | | | |_ 
   |_|    |_|_|_| |_|_|\_\ |_____/ \___\_\______|  \_____|_|_|\___|_| |_|\__|
          
        Welcome! Enter 'HELP;' to list all available commands. 'QUIT;' to exit.

Command history file path: /home/user/.flink-sql-history

Flink SQL> 
```




